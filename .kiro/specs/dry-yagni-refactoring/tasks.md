# 実装計画

## フェーズ1: 基盤整備

- [ ] 1. 統合された型定義システムの構築
  - 新しい型定義ファイル `src/types/index.ts` を作成し、全ての型を統合エクスポート
  - UI関連の型定義 `src/types/ui.ts` を作成
  - 既存の `src/types/blog.ts` をクリーンアップして重複を除去
  - _要件: 1.3, 6.1, 6.2, 6.3_

- [ ] 2. 設定ファイルの統合と一元管理
  - 新しい設定ディレクトリ `src/lib/constants/` を作成
  - サイト設定 `src/lib/constants/site.ts` を作成
  - UI設定 `src/lib/constants/ui.ts` を作成
  - ブログ設定 `src/lib/constants/blog.ts` を作成
  - 統合エクスポート `src/lib/constants/index.ts` を作成
  - 既存の `src/config/constants.ts` から設定を移行
  - _要件: 5.1, 5.2, 5.3_

- [ ] 3. ユーティリティ関数の整理と統合
  - 統合エクスポート `src/lib/utils/index.ts` を作成
  - スタイル関連ユーティリティ `src/lib/utils/styles.ts` を作成
  - バリデーション関数 `src/lib/utils/validation.ts` を作成
  - 既存のユーティリティ関数の重複を除去し、命名を統一
  - _要件: 4.1, 4.2, 4.3_

## フェーズ2: 基本UIコンポーネントの作成

- [ ] 4. 再利用可能なTagコンポーネントの実装
  - 新しいコンポーネント `src/components/ui/Tag.astro` を作成
  - タグの色バリエーション、サイズ、インタラクティブ機能を統合
  - 既存のタグスタイルの重複を除去
  - _要件: 1.1, 1.2, 3.1, 3.3_

- [ ] 5. 統一されたDateBadgeコンポーネントの実装
  - 新しいコンポーネント `src/components/ui/DateBadge.astro` を作成
  - 日付フォーマット、アイコン表示、バリエーションを統合
  - 既存の日付バッジスタイルの重複を除去
  - _要件: 1.1, 1.2, 3.1, 3.3_

- [ ] 6. 汎用Buttonコンポーネントの実装
  - 新しいコンポーネント `src/components/ui/Button.astro` を作成
  - ボタンのバリエーション、サイズ、状態管理を統合
  - 既存のボタンスタイルの重複を除去
  - _要件: 1.1, 1.2, 3.1, 3.3_

## フェーズ3: レイアウトコンポーネントの最適化

- [ ] 7. Headerコンポーネントのリファクタリング
  - `src/components/Header.astro` を `src/components/layout/Header.astro` に移動
  - ナビゲーションロジックを簡素化
  - 新しいUIコンポーネントを使用するように更新
  - 重複したスタイルクラスを除去
  - _要件: 1.1, 3.1, 8.1, 8.2_

- [ ] 8. Footerコンポーネントの最適化
  - `src/components/Footer.astro` を `src/components/layout/Footer.astro` に移動
  - ハードコードされた設定値を外部設定に移行
  - 新しい設定システムを使用するように更新
  - _要件: 5.1, 5.2_

- [ ] 9. MobileMenuコンポーネントの簡素化
  - `src/components/MobileMenu.astro` を `src/components/layout/MobileMenu.astro` に移動
  - 不要な複雑性を除去
  - 新しいUIコンポーネントを使用するように更新
  - _要件: 2.1, 8.1, 8.2_

## フェーズ4: ブログコンポーネントの統合

- [ ] 10. ArticleCardコンポーネントの統合とリファクタリング
  - `src/components/ArticleCard.astro` を `src/components/blog/ArticleCard.astro` に移動
  - compact/gridレイアウトの条件分岐を簡素化
  - 新しいTag、DateBadgeコンポーネントを使用
  - 重複したスタイルクラスを除去
  - プロパティインターフェースを簡素化
  - _要件: 1.1, 1.2, 3.1, 3.2, 8.1_

- [ ] 11. 関連記事コンポーネントの最適化
  - `src/components/RelatedArticles.astro` を `src/components/blog/RelatedArticles.astro` に移動
  - 新しいArticleCardコンポーネントを使用
  - 不要な複雑性を除去
  - _要件: 2.1, 3.1_

## フェーズ5: スタイルシステムの統合

- [ ] 12. CSSファイルの整理と重複除去
  - `src/styles/components.css` から重複したスタイルクラスを除去
  - 新しいUIコンポーネントで使用されるスタイルを統合
  - 未使用のCSSルールを削除
  - _要件: 1.2, 2.3, 7.3_

- [ ] 13. グローバルスタイルの最適化
  - `src/styles/global.css` の重複したスタイル定義を除去
  - View Transitionスタイルの簡素化
  - 未使用のスタイルルールを削除
  - _要件: 2.3, 7.3_

## フェーズ6: ページコンポーネントの更新

- [ ] 14. 検索ページの新コンポーネント適用
  - `src/pages/search.astro` を新しいUIコンポーネントを使用するように更新
  - 重複したスタイルクラスを除去
  - 新しいTag、DateBadgeコンポーネントを使用
  - _要件: 1.1, 1.2_

- [ ] 15. タグページの新コンポーネント適用
  - `src/pages/tags/index.astro` を新しいUIコンポーネントを使用するように更新
  - 重複したスタイルクラスを除去
  - 新しいTagコンポーネントを使用
  - _要件: 1.1, 1.2_

- [ ] 16. ブログページの新コンポーネント適用
  - `src/pages/blog/` 配下のページを新しいコンポーネントを使用するように更新
  - 新しいArticleCardコンポーネントを使用
  - 重複したスタイルクラスを除去
  - _要件: 1.1, 1.2_

## フェーズ7: 未使用コードの削除

- [ ] 17. 未使用コンポーネントの特定と削除
  - プロジェクト全体で未使用のコンポーネントを特定
  - 安全に削除可能なコンポーネントを削除
  - インポート文の整理
  - _要件: 2.1, 7.1_

- [ ] 18. 未使用ユーティリティ関数の削除
  - 使用されていないユーティリティ関数を特定
  - 安全に削除可能な関数を削除
  - エクスポート文の整理
  - _要件: 2.2, 7.1_

- [ ] 19. 未使用型定義の削除
  - 使用されていない型定義を特定
  - 安全に削除可能な型を削除
  - インポート/エクスポート文の整理
  - _要件: 2.4, 7.1_

## フェーズ8: パフォーマンス最適化

- [ ] 20. インポート文の最適化
  - 未使用のインポートを削除
  - 動的インポートの適用検討
  - Tree-shakingの最適化
  - _要件: 7.1, 7.3_

- [ ] 21. バンドルサイズの最適化
  - 重複したコードの除去確認
  - 不要な依存関係の削除
  - コード分割の最適化
  - _要件: 7.3_

## フェーズ9: 品質保証とテスト

- [ ] 22. 型安全性の検証
  - TypeScript strict modeでのコンパイル確認
  - 型エラーの修正
  - 型定義の一貫性確認
  - _要件: 6.1, 6.2, 6.3_

- [ ] 23. 機能テストの実行
  - 全ページの表示確認
  - コンポーネントの動作確認
  - レスポンシブ対応の確認
  - _要件: 8.1, 8.2_

- [ ] 24. パフォーマンステストの実行
  - ページ読み込み速度の測定
  - バンドルサイズの測定
  - 最適化効果の確認
  - _要件: 7.1, 7.2, 7.3_

## フェーズ10: 最終整理

- [ ] 25. ドキュメントの更新
  - README.mdの更新
  - コンポーネントの使用例追加
  - 移行ガイドの作成
  - _要件: 8.3_

- [ ] 26. 最終的なコードレビューと整理
  - 全体的なコード品質の確認
  - 命名規則の一貫性確認
  - 不要なコメントの削除
  - _要件: 8.1, 8.2, 8.3_