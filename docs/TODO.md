# ブログ開発TODO

## UI/UX改善
- [ ] **重要なリンクへの個別prefetch設定**
  - 現在は全体でprefetch無効化してパフォーマンス改善済み
  - 重要なリンクのみ個別にprefetch有効化を検討
  - 優先度高いリンク：
    - ナビゲーションメニュー（ホーム、ブログ、検索）
    - ページネーション（次へ、前へ）
    - 人気記事・最新記事（トップ3程度）
    - 関連記事（上位3件）
  - 実装方法：`data-astro-prefetch="hover"`または`data-astro-prefetch="viewport"`
  - 対象ファイル：
    - `src/components/layout/Header.astro`（ナビゲーション）
    - `src/components/blog/ArticleCard.astro`（記事カード）
    - `src/components/blog/RelatedArticles.astro`（関連記事）
    - ページネーションコンポーネント
  - 効果：重要なページのみ高速化しつつ、全体のパフォーマンスを維持
- [ ] **searchページの記事カードの大きさを統一**
  - 現在のFlexboxアプローチではレイアウトが崩れるため、別の方法を検討する必要がある
  - CSS GridやJavaScriptによる高さ調整など代替手段を探る
  - 動的に生成される記事カードも含めて統一したレイアウトを実現する

- [ ] **Aboutページの作成**
  - プロフィール情報
  - 技術スタック・経歴
  - 連絡先情報
  - このブログについて


- [ ] **記事ページに著者への問い合わせボタンを設置**
  - 各記事の下部に著者への連絡ボタンを追加
  - メールアドレスへのリンクやお問い合わせフォームへの誘導
  - 読者とのコミュニケーション促進

- [ ] **検索機能をタグ一致検索に変更**
  - 現在の全文検索（タイトル・説明・本文・タグ）は曖昧すぎる
  - 検索機能をタグの一致検索のみに限定する
  - 実装内容：
    - タイトル・説明・本文での検索を削除
    - タグの部分一致検索のみ残す（例：「java」で「javascript」と「java」両方ヒット）
    - 検索用コンテンツ（content）の送信も不要になるため削除
    - 検索入力欄のプレースホルダーを「タグで検索...」に変更
  - メリット：
    - 検索結果が明確になる
    - ページサイズがさらに軽量化（本文データ削除）
    - ユーザーが意図した記事を見つけやすい
  - 対象ファイル：`src/pages/search.astro`

- [ ] **検索機能での関連記事情報の除外**
  - 現在、検索時に関連記事のタイトルやタグも検索結果に含まれてしまう
  - 記事本文から関連記事コンポーネントの情報を除外する仕組みが必要
  - 記事本文の前処理や検索アルゴリズムの改善を検討

- [ ] **サイト情報の更新**
  - ホーム画面のサイト名とサイト説明を変更
  - 現在の仮の内容から実際のサイト情報に更新
  - SEO対策も考慮した適切な説明文に変更

- [ ] **サイト設定の最終調整（必要に応じて変更）**
  - `src/lib/constants/site.ts`の以下項目を必要に応じて調整
  - **TITLE**: `"aiueueue's blog"` → より適切なサイト名に変更する場合
  - **DESCRIPTION**: `"Web開発とプログラミングに関するブログ"` → より具体的な説明に変更する場合
  - **COPYRIGHT**: `"© 2024 aiueueue's blog. All rights reserved."` → 表記形式を変更する場合
  - 対象ファイル: `src/lib/constants/site.ts`
  - 注意: SEO・ブランディングを考慮して決定

- [ ] **本番ドメイン取得後のURL設定更新**
  - `src/lib/constants/site.ts`のBASE_URL更新
  - 現在: `BASE_URL: "https://your-domain.com"`
  - 更新内容: 実際の本番ドメインに変更
  - 対象箇所: SITE_CONFIG.BASE_URL
  - 注意: ドメイン取得・設定完了後に実施

- [ ] **ヘッダーとフッターのナビゲーション改善**
  - ヘッダー左のblogリンク（ホーム画面遷移）を削除
  - フッター中央にhomeリンクまたは家アイコンを追加してホーム画面遷移を実現
  - ナビゲーションの一貫性向上とユーザビリティ改善
  - 対象ファイル:
    - `src/components/layout/Header.astro`（blogリンク削除）
    - `src/components/layout/Footer.astro`（homeリンク追加）

- [ ] **フッター右下の「Built with Astro」表記の検討**
  - 現在の「Built with Astro」文字列の表示方法・位置・デザインを検討
  - より適切な表記やデザインに変更するか検討
  - サイトのデザインとの調和を考慮
  - 対象ファイル: `src/components/layout/Footer.astro`

- [ ] **フッター情報の更新**
  - フッター左下の「All rights reserved」表記を変更
  - より適切な著作権表記に更新
  - 必要に応じてライセンス情報の追加

- [ ] **分析機能の表記更新**
  - Cloudflareの分析機能を導入後、フッター右下の表記を変更
  - アクセス解析の実装状況に応じた適切な表記に更新

- [ ] **スマホ用の目次レイアウトの作成**
  - モバイルデバイス向けの目次コンポーネントの最適化
  - タッチフレンドリーなインターフェース設計
  - 画面サイズに応じたレスポンシブ対応

- [ ] **スマホ版レイアウトの関連記事サイズ調整**
  - モバイル表示時の関連記事カードが大きすぎるため縮小する
  - スマートフォン画面に適したサイズに調整
  - レスポンシブデザインの改善

- [ ] **フォントの選定・最適化**
  - サイト全体で使用するフォントファミリーの選定
  - 日本語・英語フォントの組み合わせ最適化
  - 読みやすさとデザイン性のバランス調整
  - Webフォントの読み込み速度最適化

- [ ] **記事遷移時のスムーズアニメーション実装**
  - 記事選択時のページ遷移にアニメーション効果を追加
  - フェードイン・フェードアウトやスライド効果の実装
  - ローディング状態の視覚的フィードバック
  - ユーザー体験の向上を図るスムーズな画面遷移

## 将来的な機能拡張
- [ ] **Cloudflare Analytics連携**
  - アクセス数ベースの人気タグランキング
  - 記事の閲覧数表示
  - トレンド分析機能

- [ ] **関連記事機能のパフォーマンス最適化（記事数1000件以上の場合）**
  - 現在は全記事をループして関連度計算を行っているため、記事数が増えると処理が重くなる可能性あり
  - 記事数が1000件を超えた場合は以下の対策を検討：
    - 事前計算による関連記事マップの作成
    - 最新n件のみから関連記事を選択
    - ランダム表示など軽量な代替案への変更
  - 対象ファイル: `src/components/blog/RelatedArticles.astro`

## コード整理・リファクタリング
- [ ] **コンポーネント構成の整理**
  - `src/components/`直下の散在しているコンポーネントを機能別にグループ化
  - **移動予定の構成**:
    - `common/` - 汎用コンポーネント（Breadcrumb, SearchBox, SocialLinks, SocialShare, StructuredData, ThemeToggle）
    - `navigation/` - ナビゲーション関連（Pagination, MobileTableOfContents, TableOfContents）
    - `pwa/` - PWA関連（InstallPrompt）
  - **作業内容**:
    - フォルダ作成と各ファイルの移動
    - 全インポートパスの更新（各使用箇所で相対パス変更）
    - 動作テスト（ビルド・表示確認）
  - **メリット**: 整理整頓、可読性向上、保守性向上
  - **優先度**: 低（現状でも十分機能している）

## デプロイ・運用
- [ ] **Cloudflare Pages公開**
  - ドメイン設定
  - 本番環境テスト
  - パフォーマンス確認

## GitHub Actions / CI/CD
- [ ] **Slack連携再稼働時の修正事項**
  - **Claude Code Action バージョンアップデート**
    - 対象ファイル: `.github/workflows/claude-slack.yml.disabled` (19行目)
    - 修正内容: `@beta` → `@v0.0.3` に変更
    - 理由: 最新の安定版は 2025-05-19 リリースの v0.0.3、ベータ版は不安定な可能性あり
    - 今後の安定版は [GitHub リポジトリの「Releases」タブ](https://github.com/anthropics/claude-code-action/releases) で確認
  - **MCP設定の環境変数名不整合修正**
    - 対象ファイル: `.github/workflows/claude-slack.yml.disabled` (42行目・44行目)
    - 問題: 環境変数名の不整合（SLACK_CHANNEL_IDS vs SLACK_CHANNEL_ID）
    - 修正内容（どちらか選択）:
      - 案1: `"SLACK_CHANNEL_IDS": "${{ secrets.SLACK_CHANNEL_ID }}"` → `"SLACK_CHANNEL_IDS": "${{ secrets.SLACK_CHANNEL_IDS }}"`
      - 案2: `"SLACK_CHANNEL_IDS",` → `"SLACK_CHANNEL_ID",` （args配列内も統一）
    - 理由: この不整合により将来ワークフローを有効化した際に正しく動作しない可能性
  - **再稼働手順**:
    1. `claude-slack.yml.disabled` を `claude-slack.yml` にリネーム
    2. 19行目のバージョン指定を `@v0.0.3` に変更
    3. 42行目・44行目の環境変数名不整合を修正
    4. Slack設定（シークレット等）を確認・更新
    5. テスト実行して正常動作を確認